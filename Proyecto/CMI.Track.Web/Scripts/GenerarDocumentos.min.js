var GenDocumentos={accEscritura:!1,accSeguridad:!1,Inicial:function(){$.ajaxSetup({cache:!1});this.Eventos();this.ValidaPermisos()},Eventos:function(){var n=this;$("#btnBuscarProyecto").click(n.onBuscarProyecto);$("#btnBuscarEtapa").click(n.onBuscarEtapa);$("#rptLGPResumen").click(n.onLGPResumen);$("#rptLGPDespiece").click(n.onLGPDespiece);$("#rptOPCorte").click(n.onOPCorte);$("#rptOPPantografo").click(n.onOPPantografo);$("#rptRGMateriales").click(n.onRGMateriales)},onRGMateriales:function(){var i=$("#idProyectoSelect").val(),r=$("#idEtapaSelect").val(),n=this,t="",u=contextPath+"GenerarDocumentos/RGMateriales";t="idProyecto="+i+"&idEtapa="+r;$(n).attr("disabled","disabled");$.post(u,t,function(n){console.log(n)}).fail(function(){CMI.DespliegaErrorDialogo("No se pudo generar el Requerimiento General de Materiales.")}).always(function(){$(n).removeAttr("disabled")})},onOPPantografo:function(){},onOPCorte:function(){},onLGPDespiece:function(){},onLGPResumen:function(){var i=$("#idProyectoSelect").val(),r=$("#idEtapaSelect").val(),n="",t=this,u=contextPath+"GenerarDocumentos/LGPResumen";n="idProyecto="+i+"&idEtapa="+r;$(t).attr("disabled","disabled");$.post(u,n,function(n){console.log(n)}).fail(function(){CMI.DespliegaErrorDialogo("No se pudo generar el Resumen de la lista general de partes.")}).always(function(){$(t).removeAttr("disabled")})},onBuscarProyecto:function(){var n=this,t;$(n).attr("disabled","disabled");CMI.CierraMensajes();t=contextPath+"Proyecto/BuscarProyecto";$.get(t,function(t){$("#buscar-General").html(t);$("#buscar-General").modal({backdrop:"static",keyboard:!0},"show");ProyectoBuscar.Inicial();ProyectoBuscar.parent=GenDocumentos;$(n).removeAttr("disabled")}).fail(function(){CMI.DespliegaErrorDialogo("No se pudo cargar el modulo de Buscar proyectos")}).always(function(){$(n).removeAttr("disabled")})},onBuscarEtapa:function(){var n=this,t;$(n).attr("disabled","disabled");CMI.CierraMensajes();t=contextPath+"Etapa/BuscarEtapa";$.get(t,function(t){$("#buscar-General").html(t);$("#buscar-General").modal({backdrop:"static",keyboard:!0},"show");EtapaBuscar.idProyecto=$("#idProyectoSelect").val();EtapaBuscar.revisionProyecto=$("#RevisionPro").text();EtapaBuscar.parent=GenDocumentos;EtapaBuscar.Inicial();$(n).removeAttr("disabled")}).fail(function(){CMI.DespliegaErrorDialogo("No se pudo cargar el modulo de Buscar proyectos")}).always(function(){$(n).removeAttr("disabled")})},AsignaProyecto:function(n,t,i,r,u,f){$("#idProyectoSelect").val(n);$("#RevisionPro").text(t);$("#nombreProyecto").text(i);$("#CodigoProyecto").text(r);$("#FechaInicio").text(u);$("#FechaFin").text(f);$("#buscar-General").modal("hide");$("#idEtapaSelect").val(0);$("#nombreEtapa").text("Nombre Etapa");$("#FechaInicioEtapa").text("Fecha Inicio");$("#FechaFinEtapa").text("Fecha Fin");$("#frmListaPartes").hide();$("#etapaRow").show()},AsignaEtapa:function(n,t,i,r){$("#idEtapaSelect").val(n);$("#nombreEtapa").text(t);$("#FechaInicioEtapa").text(i);$("#FechaFinEtapa").text(r);$("#buscar-General").modal("hide");$(".acciones").show()},ValidaPermisos:function(){var n=localStorage.modPermisos,t=GenDocumentos;t.accEscritura=n.substr(1,1)==="1"?!0:!1;t.accBorrar=n.substr(2,1)==="1"?!0:!1;t.accClonar=n.substr(3,1)==="1"?!0:!1},ExportarExcel:function(n){var i="data:text/csv;charset=utf-8,"+escape(n),t=document.createElement("a");t.href=i;t.style="visibility:hidden";t.download="Lista_Partes_Err.csv";document.body.appendChild(t);t.click();document.body.removeChild(t)}};$(function(){GenDocumentos.Inicial()});
//# sourceMappingURL=GenerarDocumentos.min.js.map
